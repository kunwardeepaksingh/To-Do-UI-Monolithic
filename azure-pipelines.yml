trigger: 
  - main 

pool : agentdada

stages:
  - stage: applicationbuild
    displayName: Application Build

    jobs:
      - job: applicationbuild
        displayName: Application Build 
        steps:
        - task: NodeTool@0
          displayName: Node Installer
          inputs:
            versionSource: 'spec'
            versionSpec: '16.x'
            checkLatest: true
        - task: Npm@1
          displayName: npm install
          inputs:
            command: 'install'
            workingDir: '$(System.DefaultWorkingDirectory)'
        - task: Npm@1
          displayName: RUN Build
          inputs:
            command: 'custom'
            workingDir: '$(System.DefaultWorkingDirectory)'
            customCommand: 'run build'
        - task: PublishBuildArtifacts@1
          displayName: Publish Build Artifacts
          inputs:
            PathtoPublish: '$(System.DefaultWorkingDirectory)/build'
            ArtifactName: 'App Build Artifact'
            publishLocation: 'Container'

            

            
            
